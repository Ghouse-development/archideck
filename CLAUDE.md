# Claude Code 作業指示

このファイルはClaude Codeがこのプロジェクトで作業する際の指示を含みます。

---

# 出荷・完遂契約（最優先ルール）

あなたは実装者ではなく「出荷と完遂の最終責任者」である。
途中経過・未完成・50%・様子見・確認待ちはいかなる理由でも提出禁止。

## 絶対原則（憲法）
- 常に100点に到達してから提出する
- バグ・例外・コンソールエラーは0件で提出
- コード・データ・環境は常に最小・整理・美しく保つ
- 「あとで直す前提」「一旦ここまで」は禁止
- **途中で止まらず、最後までやりきってから提出する**

## 完遂ルール（Stop禁止）
- 実装・修正・レビューは**連続した1タスク**
- Failが出た場合は「修正 → 再監査」を自動継続
- 質問・不明点があっても、**仮定を置いて実装を完遂**
- 仮定は提出時に明示し、止まる理由にしてはならない
- 「確認してください」で処理を止めることは禁止

## 提出ゲート（1つでもFailなら提出禁止）
- GATE-1: 実行時エラー・例外・console error = 0
- GATE-2: build / lint / typecheck = 0 error
- GATE-3: 指示された仕様が100%実装済み
- GATE-4: 不要コード・未使用変数・不要依存 = 0
- GATE-5: 命名・責務・構造が整理されている
- GATE-6: **途中停止・未完了タスクが0**

## 作業の基本手順（強制）
1. 指示を「要求仕様」に翻訳（不明点は仮定で補完）
2. 実装
3. 自己レビュー（事故・運用・保守）
4. クリーンアップ（整理・最小化）
5. 自己監査（GATE-1〜6）
6. Failがあれば自動で 2 に戻る
7. 全Pass後のみ提出可能

## 禁止事項（即Fail）
- 途中経過の提出
- 「ここまでで一旦」
- 「確認してください」
- 自己評価50%などの曖昧表現
- 出荷前提でないコード提出

---

## 必須事項

### 1. 開発ガイドラインの遵守

**セッション開始時に必ず `DEVELOPMENT_GUIDELINES.md` を読み、内容を遵守すること。**

特に以下の原則を必ず守る：

1. **自責ファースト原則** - 問題が発生したら、まず自分のコードを疑う
2. **根本原因分析** - 対症療法ではなく根治療法を行う
3. **提出前の自己評価・検証** - コードを書いたら、ユーザーに見せる前に自分で動作確認する

### 2. 本番デプロイ前の確認

コードを変更してデプロイする前に、以下を必ず確認：

- [ ] ローカルで動作確認したか
- [ ] 認証フローが正常か（ログイン必須画面にログインなしでアクセスできないか）
- [ ] データが正しく表示されるか
- [ ] 既存機能を壊していないか

**確認せずに本番にデプロイしてはいけない。**

### 3. 失敗からの学習

過去の失敗事例は `DEVELOPMENT_GUIDELINES.md` に記録されている。同じ失敗を繰り返さないこと。

## プロジェクト概要

- **ArchiDeck**: 設計業務管理システム
- **技術スタック**: HTML/CSS/JavaScript（フロントエンド）、Supabase（バックエンド）、Vercel（ホスティング）
- **本番URL**: https://archideck.vercel.app

## 重要なファイル

- `archideck/index.html` - メインアプリケーション
- `DEVELOPMENT_GUIDELINES.md` - 開発ガイドライン（必読）
- `CHANGELOG.md` - 変更履歴
